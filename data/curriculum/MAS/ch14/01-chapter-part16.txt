be importanttoknowtheprobabilitythatX willtakesomevaluex giventhatX = i i j x hasalreadybeenobserved.Wedefinethisprobabilityas j P(X = x andX = x ) P(X = x X = x ) = i i j j . i i | j j P(X = x ) j j conditional WecallP(X = x X = x )aconditionalprobability;P(X = x andX = i i j j i i j | probability x ) is called a joint probabilityand P(X = x ) a marginalprobability, already j j j discussedpreviously. jointprobability Finally,Bayes’ruleisanimportantidentitythatallowsustoreverseconditional probabilities. Specifically, Bayes’rule P(X = x X = x )P(X = x ) P(X = x X = x )= j j | i i i i . i i | j j P(X = x ) j j UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. B Linear and Integer Programming Linear programs and integer programs are optimization problems with linear objective functions and linear constraints. These problems are very general: linear programscanbeusedtoexpressawiderangeofproblemssuchasbipartitematchingandnetworkflow, whileintegerprogramscanexpressanevenlargerrangeof problems,includingallofthoseinNP.Wedefineeachoftheseformalismsinturn. B.1 Linearprograms Defininglinearprograms linearprogram Alinearprogramisdefinedby: • asetofreal-valuedvariables; • alinearobjectivefunction(i.e.,aweightedsumofthevariables);and • asetoflinearconstraints(i.e.,therequirementthataweightedsumofthevariablesmustbelessthanorequaltosomeconstant). Let the set of variables be x ,...,x , with each x R. The objective 1 n i { } ∈ functionofalinearprogram,givenasetofconstantsw ,...,w ,is 1 n n maximize w x . i i i=1 X Linear programs can also express minimization problems: these are just maximizationproblemswithallweightsintheobjectivefunctionnegated. Constraints express the requirementthat a weighted sum of the variables must be greater than or equal to some constant. Specifically, given a set of constants a ,...,a andaconstantb ,aconstraintisanexpression 1j nj j n a x b . ij i j ≤ i=1 X 470 B LinearandIntegerProgramming Thisformactuallyallowsustoexpressabroaderrangeofconstraintsthanmight immediately be apparent. By negatingall constants, we can expressgreater-thanor-equal constraints. By providing both less-than-or-equal and greater-than-orequalconstraintswiththesameconstants,wecanexpressequalityconstraints. By settingsomeconstantstozero,wecanexpressconstraintsthatdonotinvolveallof thevariables. Furthermore, evenproblemswith piecewise-linearconstraints(e.g., involving functions like a max of linear terms) can sometimes be expressed as linear programs by adding both new constraints and new variables. Observe that we cannot always write strict inequality constraints, though sometimes such constraints can be enforcedthroughchangesto the objectivefunction. (Forexample, seethelinearprogramgiveninEquations(4.42)–(4.44)onp.111,whichenforces thestrictinequalityconstraintsgiveninEquations(4.39)–(4.41).) Bringingitalltogether,ifwehavemdifferentconstraints,wecanwritealinear programasfollows. n maximize w x i i i=1 X n subjectto a x b j =1...m ij i j ≤ ∀ i=1 X x 0 i= 1...n i ≥ ∀ Observethattherequirementthateachx mustbenonnegativeisnotrestrictive: i problemsinvolvingnegativevariablescanalwaysbereformulatedintoequivalent problemsthatsatisfytheconstraint. Alinearprogramcanalsobewritteninmatrixform. Letwbeann 1vector × containingtheweightsw ,letxbeann 1vectorcontainingthevariablesx ,let i i × Abeanm nmatrixofconstantsa ,andletbbeanm 1vectorofconstants ij × × b . Wecanthenwritealinearprograminmatrixformasfollows. j maximize wTx subjectto Ax b ≤ x 0 ≥ In some cases we care to satisfy a given set of constraints, but do not have an associatedobjectivefunction;anysolutionwilldo. Inthis casetheLPreducesto aconstraintsatisfactionoffeasibilityproblem,butwewillsometimesstillreferto oneasanLPwithanemptyobjectivefunction(or,equivalently,thetrivialone). primalproblem Finally, everylinearprogram(a so-calledprimalproblem)hasacorresponding dualproblemwhichsharesthesameoptimalsolution. Forthelinearprogramgiven dualproblem earlier,thedualprogramisasfollows. minimize bTy subjectto ATy w ≥ y 0 ≥ UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. B.2 Integerprograms 471 Inthis linearprogramourvariablesarey. Variablesandconstraintseffectively tradeplaces: there is onevariabley y inthe dualproblemforeveryconstraint ∈ fromtheprimalproblemandoneconstraintinthedualproblemforeveryvariable x xfromtheprimalproblem. ∈ Solvinglinearprograms In order to solve linear programs, it is useful to observe that the set of feasible solutionstoalinearprogramcorrespondstoaconvexpolyhedroninn-dimensional space. This is true because all of the constraints are linear: they correspond to hyperplanesinthisspace,andsothesetoffeasiblesolutionsistheregionbounded byallofthehyperplanes. Thefactthattheobjectivefunctionisalsolinearallows ustoconcludetwousefulthings: anylocaloptimuminthefeasibleregionwillbe a global optimum, and at least one optimal solution will exist at a vertex