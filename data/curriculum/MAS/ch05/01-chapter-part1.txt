Games with Sequential Actions: 5 Reasoning and Computing with the Extensive Form In Chapter 3 we assumed that a game is represented in normal form: effectively, asabigtable. Insomesense,thisisreasonable. Thenormalformisconceptually straightforward,andmostseeitasfundamental.Whilemanyotherrepresentations exist to describe finite games, we will see in this chapter and in Chapter 6 that eachofthem hasan “inducednormalform”: a correspondingnormal-formrepresentation that preserves game-theoretic properties such as Nash equilibria. Thus the results given in Chapter 3 hold for all finite games, no matter how they are represented;inthatsensethenormal-formrepresentationisuniversal. Inthischapterwewilllookat extensive-formgames,afiniterepresentationthat doesnotalways assumethatplayersact simultaneously. This representationis in generalexponentiallysmaller than its induced normalform, and furthermore can bemuchmorenaturaltoreasonabout. While theNashequilibriaofanextensiveform game can be found through its induced normal form, computationalbenefit can be had by working with the extensive form directly. Furthermore, there are other solution concepts, such as subgame-perfectequilibrium (see Section 5.1.3), whichexplicitlyrefertothesequenceinwhichplayersactandwhicharetherefore notmeaningfulwhenappliedtonormal-formgames. 5.1 Perfect-information extensive-form games Thenormal-formgamerepresentationdoesnotincorporateanynotionofsequence, ortime,oftheactionsoftheplayers. Theextensive(ortree)formisanalternative representation that makes the temporal structure explicit. We start by discussing thespecialcaseofperfectinformationextensive-formgames,andthenmoveonto discuss the more general class of imperfect-information extensive-form games in Section5.2. Inbothcaseswewillrestrictthediscussiontofinitegames,thatis,to gamesrepresentedasfinitetrees. 118 5 GameswithSequentialActions:ReasoningandComputingwiththeExtensiveForm 5.1.1 Definition Informallyspeaking,a perfect-informationgamein extensiveform(or, moresimply, a perfect-information game) is a tree in the sense of graph theory, in which eachnoderepresentsthechoiceofoneoftheplayers,eachedgerepresentsapossibleaction,andtheleavesrepresentfinaloutcomesoverwhicheachplayerhasa utility function. Indeed, in certain circles (in particular, in artificial intelligence), theseareknownsimplyasgametrees. Formally,wedefinethemasfollows. Definition5.1.1(Perfect-informationgame) A(finite)perfect-informationgame Perfect- (inextensiveform)isatupleG= (N,A,H,Z,χ,ρ,σ,u), where: information game • N isasetofnplayers; • Aisa(single)setofactions; • H isasetofnonterminalchoicenodes; • Z isasetofterminalnodes,disjointfromH; • χ : H 2A istheactionfunction,whichassignstoeachchoicenodeasetof 7→ possibleactions; • ρ : H N istheplayerfunction,whichassignstoeachnonterminalnodea 7→ playeri N whochoosesanactionatthatnode; ∈ • σ :H A H Z isthesuccessorfunction,whichmapsachoicenodeand × 7→ ∪ anactiontoa newchoicenodeor terminalnodesuchthatforallh ,h H 1 2 ∈ anda ,a A,ifσ(h ,a ) = σ(h ,a )thenh = h anda = a ;and 1 2 1 1 2 2 1 2 1 2 ∈ • u = (u ,...,u ), where u : Z R is a real-valued utility function for 1 n i 7→ playeriontheterminalnodesZ. Sincethechoicenodesformatree,wecanunambiguouslyidentifyanodewith itshistory,thatis,thesequenceofchoicesleadingfromtherootnodetoit. Wecan alsodefinethedescendantsofanodeh,namelyallthechoiceandterminalnodes inthesubtreerootedath. An exampleof such a game is the Sharing game. Imagine a brotherand sister followingthefollowingprotocolforsharingtwoindivisibleandidenticalpresents fromtheirparents. Firstthebrothersuggestsasplit,whichcanbeoneofthree—he keepsboth,shekeepsboth,ortheyeachkeepone. Thenthesisterchooseswhether toacceptorrejectthesplit. Ifsheacceptstheyeachgettheirallocatedpresent(s), andotherwiseneithergetsanygift. Assumingbothsiblingsvaluethetwopresents equallyandadditively,thetreerepresentationofthisgameisshowninFigure5.1. UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 5.1 Perfect-informationextensive-formgames 119 1 • 2–0 0–2 1–1 2 2 2 • • • no yes no yes no yes • • • • • • (0,0) (2,0) (0,0) (1,1) (0,0) (0,2) Figure5.1: TheSharinggame. 5.1.2 Strategiesandequilibria Apurestrategyforaplayerinaperfect-informationgameisacompletespecificationofwhichdeterministicactiontotakeateverynodebelongingtothatplayer. A moreformaldefinitionfollows. Definition5.1.2(Purestrategies) LetG = (N,A,H,Z,χ,ρ,σ,u) beaperfectinformation extensive-form game. Then the pure strategies of player i consist of theCartesianproduct χ(h). h∈H,ρ(h)=i Notice that the defiQnition contains a subtlety. An agent’s strategy requires a decision at each choice node, regardless of whether or not it is possible to reach that node given the other choice nodes. In the Sharing game above the situation is straightforward—player 1 has three pure strategies, and player 2 has eight, as follows. S = 2–0,1–1,0–2 1 { } S = (yes,yes,yes),(yes,yes,no),(yes,no,yes),(yes,no,no),(no,yes,yes), 2 { (no,yes,no),(no,no,yes),(no,no,no) } ButnowconsiderthegameshowninFigure5.2. In order to define a complete strategy for this game, each of the players must chooseanactionateachofhistwochoicenodes. Thuswecanenumeratethepure strategiesoftheplayersasfollows. S = (A,G),(A,H),(B,G),(B,H) 1 { } S = (C,E),(C,F),(D,E),(D,F) 2 { } It is important to note that we have to include