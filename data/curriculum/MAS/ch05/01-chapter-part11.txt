encounteredin and to be the information set I I in which the fi I nal action in σ was take ∅ n i i σ ∈ i otherwise. Note that the information set in which each action in a sequence was takenis unambiguousbecauseofourassumptionthatthe gamehas perfectrecall. Finally,weagainoverloadnotationtosimplifytheexpressionsthatfollow. Given a set of sequences Σ′, let (Σ′) denote (σ′)σ′ Σ′ . Thus, for example, I i {I i | i ∈ i} Ii(Exti(σ 1 ))= i (Ext i (σ 1 )) is the (possibly empty)set of final information sets encounteredin {Ii(σ′)|σ′ ∈ I the(possiblyempty)setofextensionsofσ i . Exti(σ 1 )} 6. ThedualofalinearprogramisdefinedinAppendixB. UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 5.2 Imperfect-informationextensive-formgames 139 ThedualLPfollows. minimize v (5.8) 0 subjectto v v g (σ ,σ )r (σ ) σ Σ I1(σ1) − I′ ≥ 1 1 2 2 2 ∀ 1 ∈ 1 I′∈I1( X Ext1(σ1)) σ X2∈Σ2 (5.9) Thevariablev representsplayer1’s expectedutility undertherealizationplan 0 hechoosestoplay,givenplayer2’srealizationplan. Intheoptimalsolutionv will 0 correspond to player 1’s expected utility when he plays his best response. (This follows from LP duality—primaland duallinearprograms always havethe same optimalsolutions.) Eachothervariablev canbeunderstoodastheportionofthis I expectedutility thatplayer1willachieveunderhisbest-responserealizationplan in the subgamestarting from informationsetI, againgivenplayer2’s realization planr . 2 There is one versionof constraint(5.9) for everysequenceσ of player1. Ob1 servethatthereisalwaysexactlyonepositivevariableontheleft-handsideofthe inequality, correspondingto the informationsetofthelast actionin the sequence. There can also be zero or more negativevariables, each of which corresponds to a different information set in which player 1 can end up after playing the given sequence.Tounderstandthisconstraint,wewillconsiderthreedifferentcases. First, there are zero of these negative variables when the sequence cannot be extended—thatis, when player 1 nevergets to move again after σ , no matter 1 1 I whatplayer2does. Inthiscase,theright-handsideoftheconstraintwillevaluate to player1’s expectedpayofffrom the subgamebeyondσ , givenplayer2’s real1 ization probabilities r . (This subgame is either a terminal node or one or more 2 decision nodesfor player 2 leading ultimately to terminal nodes.) Thus, here the constraintstatesthattheexpectedutilityfromadecisionatinformationset (σ ) 1 1 I mustbeatleastaslargeastheexpectedutilityfrommakingthedecisionaccording to σ . In the optimal solution this constraint will be realized as equality if σ is 1 1 playedwithpositiveprobability;contrapositively,iftheinequalityisstrict,σ will 1 neverbeplayed. The second case is when the structure of the game is such that player 1 will face another decision node no matter how he plays at information set (σ ). 1 1 I For example, this occurs if σ = and player 1 moves at the root node: then 1 ∅ (Ext (σ )) = 1 (the first information set). As anotherexample, if player2 1 1 1 I { } takes one of two moves at the root node and player 1 observes this move before choosing his own move, then for σ = we will have (Ext (σ )) = 1,2 . 1 1 1 1 ∅ I { } Wheneverplayer1isguaranteedtofaceanotherdecisionnode,theright-handside ofconstraint(5.9)willevaluatetozerobecauseg (σ ,σ )willequal0forallσ . 1 1 2 2 Thusthe constraintcanbeinterpretedas statingthatplayer1’s expectedutility at information set (σ ) must be equal to the sum of the expected utilities at the 1 1 I information sets (Ext (σ )). In the optimal solution, where v is minimized, 1 1 1 0 I theseconstraintsarealwaysberealizedasequality. Freeforon-screenuse;pleasedonotdistribute.Youcangetanotherfreecopy ofthisPDFororderthebookathttp://www.masfoundations.org. 140 5 GameswithSequentialActions:ReasoningandComputingwiththeExtensiveForm Finally,thereisthecasewherethereexistextensionsofsequenceσ ,butwhereit 1