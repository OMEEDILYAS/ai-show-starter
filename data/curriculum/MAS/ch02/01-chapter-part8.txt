1 preferreditem,x ,andsettlesforx . 2 3 Thuswhentheprocedureterminateswehaveoursolution.Theproblem,though, is that it may not terminate. This can occur when more than one object offers maximal value for a given agent; in this case the agent’s bid increment will be zero. If these two items also happen to be the best items for another agent, they will enter into an infinite bidding war in which the price never rises. Consider a modificationofourpreviousexample,inwhichthevaluefunctionisgivenbythe followingtable. UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 2.3 Negotiation,auctionsandoptimization 35 i v(i,x1) v(i,x2) v(i,x3) 1 1 1 0 2 1 1 0 3 1 1 0 Thenaiveauctionprotocolwouldproceedasfollows. preferred bid current round p1 p2 p3 bidder object incr. assignment 0 0 0 0 1 x 0 (1,x ) 1 1 1 0 0 0 2 x 0 (1,x ),(2,x ) 2 1 2 2 0 0 0 3 x 0 (3,x ),(2,x ) 1 1 2 3 0 0 0 1 x 0 (3,x ),(1,x ) 2 1 2 4 0 0 0 2 x 0 (2,x ),(1,x ) 1 1 2 . . . . . . . . . . . . . . . . . . . . . . . . Clearly,inthisexamplethenaivealgorithmwillhavethethreeagentsforeverfight overthetwodesiredobjects. Aterminatingauctionalgorithm To remedy the flaw exposed previously, we must ensure that prices continue to increase when objects are contested by a groupof agents. The extensionis quite straightforward: weaddasmallamounttothebiddingincrement. Thuswecalculatethebidincrementofagenti N asfollows. ∈ b = u(i,j) max u(i,k)+ǫ i −k|(i,k)∈M;k6=j Otherwise,thealgorithmisasstatedearlier. Consider again the problematic assignment problem on which the naive algorithm did not terminate. The terminating auction protocol would proceed as follows. preferred bid current round p1 p2 p3 bidder object incr. assignment 0 ǫ 0 0 1 x ǫ (1,x ) 1 1 1 ǫ 2ǫ 0 2 x 2ǫ (1,x ),(2,x ) 2 1 2 2 3ǫ 2ǫ 0 3 x 2ǫ (3,x ),(2,x ) 1 1 2 3 3ǫ 4ǫ 0 1 x 2ǫ (3,x ),(1,x ) 2 1 2 4 5ǫ 4ǫ 0 2 x 2ǫ (2,x ),(1,x ) 1 1 2 Note that at each iteration, the price forthe preferred item increasesby at least ǫ. Thisgivesussomehopethatwewillavoidnontermination. Wemustfirstthough makesurethat,ifweterminate,weterminatewiththe“right”results. First, becausethe pricesmustincreasebyatleastǫateveryround,the competitive equilibrium property is no longer preserved over the iteration. Agents may “overbid” on some objects. For this reason we will need to define a notion of ǫ-competitive ǫ-competitiveequilibrium. equilibrium Freeforon-screenuse;pleasedonotdistribute.Youcangetanotherfreecopy ofthisPDFororderthebookathttp://www.masfoundations.org. 36 2 DistributedOptimization Definition2.3.7(ǫ-competitiveequilibrium) S andp satisfy ǫ-competitiveequilibriumwhenforeachi N, if thereexists apair(i,j) S then k, u(i,j)+ ∈ ∈ ∀ ǫ u(i,k). ≥ In otherwords, in an ǫ-equilibrium no agentcan profit more than ǫ by bidding foranobjectotherthanhisassignedone,givencurrentprices. Theorem2.3.8 AfeasibleassignmentS withngoodsthatformsanǫ-competitive equilibriumwithsomepricevectoriswithinnǫofoptimal. Corollary2.3.9 Considerafeasibleassignmentproblemwithanintegervaluation function v : M Z. If ǫ < 1 then any feasible assignment found by the 7→ n terminatingauctionalgorithmwillbeoptimal. This leaves the question of whether the algorithm indeed terminates, and if so, how quickly. To see why the algorithm must terminate, note that if an object receivesabidinkiterations,itspricemustexceeditsinitialpricebyatleastkǫ. Thus, forsufficientlylargek,theobjectwillbecomeexpensiveenoughtobejudgedinferiortosomeobjectthathasnotreceivedabidsofar. Thetotalnumberofiterations inwhichanobjectreceivesabidmustbenomorethan max v(i,j) min v(i,j) (i,j) − (i,j) . ǫ Once all objects receive at least one bid, the auction terminates (do you see why?). Ifeachiterationinvolvesabidbyasingleagent,thetotalnumberofiterationsisnomorethanntimestheprecedingquantity. Thus,sinceeachbidrequires O(n)operations,therunningtimeofthealgorithmisO(n2max