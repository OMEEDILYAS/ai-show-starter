ofthisPDFororderthebookathttp://www.masfoundations.org. 30 2 DistributedOptimization agivenagent. Innoncooperativesettings,wherecontractnetsarealsosometimes pressedintoservice,thesituationisofcoursedifferent. In the next two sections we will be looking at two classical optimization problems, one representable as a linear program (LP) and one only as an integer program(IP)(forabriefreviewofLPsandIPs,seeAppendixB). Thereexistsavast literature onhow to solveLPs and IPs, andit is notouraim in this chapter(orin theappendix)tocapturethisbroadliterature. Ourmorelimitedaimhereistolook atthe auction-stylesolutions forthem. First we will lookat an LP problem—the problemofweightedmatchinginabipartitegraph,alsoknownastheassignment problem. We will then look at a more complex, IP problem—that of scheduling. As we shall see, since the LP problem is relatively easy (specifically, solvable in polynomialtime),itadmitsanauction-likeprocedurewithtightguarantees.TheIP problemisNP-complete,andsoitisnotsurprisingthattheauction-likeprocedure doesnotcomewithsuchguarantees. 2.3.2 Theassignmentproblemandlinearprogramming TheproblemanditsLPformulation weighted Theproblemofweightedmatchinginabipartitegraph,otherwiseknownasthe matching assignmentproblem,isdefinedasfollows. assignment Definition2.3.1(Assignmentproblem) problem A(symmetric)assignmentproblemconsistsof • AsetN ofnagents, • AsetX ofnobjects, • AsetM N X ofpossibleassignmentpairs,and ⊆ × • Afunctionv : M Rgivingthevalueofeachassignmentpair. 7→ An assignment is a set of pairs S M such that each agent i N and each ⊆ ∈ feasible objectj X isinatmostonepairinS. Afeasibleassignmentisoneinwhichall ∈ assignment agentsareassignedanobject. AfeasibleassignmentS is optimalifit maximizes v(i,j). (i,j)∈S P An exampleof an assignmentproblemis the following (in this example, X = x ,x ,x andN = 1,2,3 ). 1 2 3 { } { } i v(i,x1) v(i,x2) v(i,x3) 1 2 4 0 2 1 5 0 3 1 3 2 UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 2.3 Negotiation,auctionsandoptimization 31 Inthissmallexampleitisnothardtoseethat(1,x ),(2,x ),(3,x )isanopti1 2 3 malassignment. Inlargerproblems,however,thesolutionisnotobvious,andthe questionishowtocomputeitalgorithmically. We first note that an assignment problem can be encoded as a linear program. Givenageneralassignmentproblemasdefinedearlier,weintroducetheindicator matrixx;x = 1indicatesthatthepair(i,j)isselected,andx = 0otherwise. i,j i,j Thenweexpressthelinearprogramasfollows. maximize v(i,j)x i,j (i,j)∈M X subjectto x 1 i N i,j ≤ ∀ ∈ j|(i,j)∈M X x 1 j X i,j ≤ ∀ ∈ i|(i,j)∈M X OnthefaceofittheLPformulationisinappropriatesinceitallowsforfractional matches(i.e.,for0< x < 1). ButasitturnsoutthisLPhasintegralsolutions. i,j Lemma2.3.2 The LP encoding of the assignment problem has a solution such thatfor everyi,j it is thecasethatx = 0or x = 1. Furthermore,anyoptii,j i,j malfractionalsolutioncanbeconvertedinpolynomialtimetoanoptimalintegral solution. SinceanyLPcanbesolvedinpolynomialtime,wehavethefollowing. Corollary2.3.3 Theassignmentproblemcanbesolvedinpolynomialtime. Thiscorollarymightsuggestthatwearedone. However,thereareanumberof reasonstonotstopthere. First,thepolynomial-timesolutiontotheLPproblemis ofcomplexityroughlyO(n3),whichmaybetoohighinsomecases. Furthermore, thesolutionisnotobviouslyparallelizable,andisnotparticularlyrobusttochanges in the problemspecification(ifone ofthe inputparameterschanges,the program mustessentiallybesolvedfromscratch). Onesolutionthatsufferslessfromthese shortcomingsis based on the economicnotion ofcompetitiveequilibrium, which weexplorenext. Theassignmentproblemandcompetitiveequilibrium Imagine that each of the objects in X has an associated price; the price vector is p = (p ,...,p ), where p is the price of object j. Given an assignment 1 n j S M and a price vector p, define the “utility” from an assignment j to agent ⊆ i as u(i,j) = v(i,j) p . An assignmentanda setofprices are in competitive j − competitive equilibriumwheneachagentisassignedtheobjectthatmaximizeshisutilitygiven equilibrium thecurrentprices. Moreformally,wehavethefollowing. Freeforon-screenuse;pleasedonotdistribute.Youcangetanotherfreecopy ofthisPDFororderthebookathttp://www.masfoundations.org. 32 2 DistributedOptimization Definition2.3.4(Competitiveequilibrium) AfeasibleassignmentS andaprice vectorpareincompetitiveequilibriumwhenforeverypairing(i,j) S itisthe ∈ casethat k, u(i,j) u(i,k). ∀ ≥ Itmightseemstrangetodraganeconomicnotionintoadiscussionofcombinatorialoptimization,butasthefollowingtheoremshowstherearegoodreasonsfor doingso. Theorem2.3.5 If a feasible assignment S and a price vector p satisfy the competitive equilibriumconditionthenS is anoptimalassignment. Furthermore,for anyoptimalsolutionS, thereexistsa pricevectorpsuchthatpandS satisfythe competitiveequilibriumcondition. For example, in the previous example, it is not hard to see that the optimal assignment(1,x ),(2,x ),(3,x )isacompetitiveequilibriumgiventhepricevec1 2 3 tor(2,4,1); the“utilities” oftheagentsare0, 1, and1, respectively,andnoneof themcanincreasetheirprofitbybiddingforoneoftheotherobjectsatthecurrent prices. We outline the proof of a more general form of the theorem in the next section. This last theorem means that one way to search for solutions of the LP is to searchthespaceofcompetitiveequilibria. Andanaturalwaytosearchthatspace involvesauction-likeprocedures,in which the