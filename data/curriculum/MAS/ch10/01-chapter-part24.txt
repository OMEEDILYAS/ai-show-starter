thatµ′ isastablematchingwithrespectto ≻ [ ′ ]. b ≻ Part 1: For any s R, let a = µ′b(s). Stability of µ with respect to ∈ [ ] requires that advisor a be matched to some student under µ (rather than b ≻ being unpaired), as otherwise (s,a) would block µ at [ ]; let s′ = µ(a). ≻ If s′ = s , then since s prefers his match under µ′ to his match under µ, b 1 1 s′ R. Otherwise, since (with respect to his preferences declared in [ ]) s b ∈ ≻ strictly prefers µ′(s) to µ(s), stability of µ with respect to [ ] implies that ≻ s′ s. Since we defined s = µ′(a), thus s′ µ′(a). Then, stability of µ′ a a b wi ≻ threspectto[ ′ ]impliesthatµ′(s′) s′ a. Si ≻ ncewedefinedab= µ(s′),thus ≻ ≻ µ′b(s′) s′ µ(s′) and therefore s′ R. As a rbesult, we can write T = a : ≻ ∈ { µ′(a) R = a :µ(a) R . b b ∈ } { ∈ } b UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 10.7 Constrainedmechanismdesign 321 Part 2: Since every student s R prefers µ′(s) to µ(s), stability of µ ∈ withrespectto[ ]impliesthat a T, µ(a) µ′(a). Therefore,duringthe a ≻ ∀ ∈ ≻ executionofthestudent-applicationalgorithmon[ ],eachstudents Rwill ≻ ∈ applytoµ′(s)andwillgetrejectedbyµ′(s)atsomeiteration. Inotherwords, b b each a T rejects µ′(a) R at some iteration. Let s be (weakly)the last b ℓ ∈ ∈ student in R who applies to an advisor during the execution of the studentapplicationalgorithm. This applicationis sentto µ(s ) T; let µ(s ) = a . ℓ ℓ ℓ ∈ Byconstruction,a musthaverejectedµ′(a )atsomestrictlyearlieriteration ℓ ℓ of the algorithm. Thus, when s applies to a , a must reject an application ℓ ℓ ℓ from some s / R such that s µ′(a ) (fact 1). Note that s = s , since r ∈ r ≻ aℓ ℓ r 6 1 s / R ands R. Since s appliestoa beforehefinally getsmatchedto r 1 r ℓ ∈ ∈ µ(s ),wehavethata µ(s ). Furthermore,sinces / R,wealsohavethat r ℓ ≻ sr r b r ∈ µ(s ) µ′(s ). Thereforea µ′(s )(fact2). Thus,from(fact1)and(fact r (cid:23)sr r ℓ ≻ sr r 2),(s ,a )blocksµ′ abt[ ′ ]andµ′ isnotstablewithrespectto[ ′ ],yielding r ℓ ≻ ≻ ourcobntradiction. b b b Of course, it is similarly possible to achieve a direct mechanism under which truth telling is a dominant strategy for advisors by using the advisor-application versionofthedeferredacceptancealgorithm. 10.7 Constrainedmechanism design So far we haveassumed that the mechanism designeris free to design any mechanism, but this assumption is violated in many applications—the ones discussed inthissection,andmanyothers. Inparticular,oftenonestartswithgivenstrategy spacesforeachoftheagents,withlimitedornoabilitytochangethose. Examples abound: • Acityofficialwhowishestoimprovethetrafficflowinthecitycannotredesign carsorbuildnewroads; • A UN mediator who wishes to incent two countries fighting over a scarce resourcetoceasehostilitiescannotchangetheirmilitarycapabilitiesortheamount orvalueoftheresource; • Acomputernetworkoperatorwhowishesto routetraffica certainwaycannot changethenetworktopologyortheunderlyingroutingalgorithm. Many other examples exist, and in fact such constraints can be thought of as the norm rather than the exception. How can such would-be mechanism designers intervenetoinfluencethecourseofevents? In Chapter2 we alreadyencounteredthis problem. Specifically, in Section 2.4 sociallaw we