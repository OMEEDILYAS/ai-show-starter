= V; • v(S) = w(i,j). i,j∈S AnexampPlethatWGGsmodelwellistheRevenueSharinggame. Example12.3.4(RevenueSharinggame) Consider the problem of dividing the revenues from toll highways between the cities that the highways connect. The pairofcities connectedbyahighwaygettoshareinthe revenuesonlywhenthey form an agreementon revenuesplitting; otherwise, the tolls go to the state. This problemcanberepresentedasaweightedgraphgame(V,W),wherethenodesV representthecities, eachedgerepresentsahighwaybetweenapair ofcities, and theweightw(i,j)ofagivenedgeindicatesthathighway’stollrevenues. Thefollowingisadirectconsequenceofthedefinitions. Proposition12.3.5 Ifalltheweightsarenonnegativethenthegameisconvex. Thusweknowthatin this caseWGGs haveanonemptycoreand,furthermore, thatthecorecontainstheShapleyvalue.Butthecoremaycontainadditionalpayoff vectors, and it is natural to ask whether testing membership is easy or hard. The answerisgivenbythefollowingproposition. Proposition12.3.6 Ifalltheweightsarenonnegativethenmembershipofapayoff vectorinthecorecanbetestedinpolynomialtime. Theproofisachievedbyprovidingamaxflow-typealgorithm. TheShapleyvalueisalsoeasytocompute,evenwhenweliftourrestrictionthat theweightsmustbenonnegative. Freeforon-screenuse;pleasedonotdistribute.Youcangetanotherfreecopy ofthisPDFororderthebookathttp://www.masfoundations.org. 400 12 TeamsofSelfishAgents:AnIntroductiontoCoalitionalGameTheory Theorem12.3.7 The Shapley value of the coalitional game (N,v) induced by a weightedgraphgame(V,W)is 1 φ (N,v) = w(i,j). i 2 j6=i X Proof. Consider the contribution of the edge (i,j) to φ (N,v). For every i subset S containing it, it contributes (n−|S|)!(|S|−1)!w(i,j). There are n−2 n! k−2 subsetsofsize k thatcontainbothiandj. So allsubsetsofsizek contribute (cid:0) (cid:1) n−2 (n−|S|)!(|S|−1)!w(i,j) = (k−1) w(i,j). And by summing over k = k−2 n! n(n−1) 2,...,nweobtaintheresult. (cid:0) (cid:1) ItfollowsthatwecancomputetheShapleyvalueinO(n2)time. AnsweringquestionsregardingthecoreofWGGsismorecomplex. Recallthat a cut in a graph is a set of edges that divide the nodes into two disjoint sets, the weightofacutisthesumofitsweights,andanegativecutisacutwhoseweight isnegative.Webeginbynotingthefollowingproposition. Proposition12.3.8 The Shapleyvalueis in the coreofa weighted graphgame if andonlyifthereisnonegativecutintheweightedgraph. Proof. Note that while the value of a coalition S is the sum of the weights within S, the Shapley values in the same coalition is the same sum plus half thetotalweightsofedgesbetweenS andN S. ButtheedgesbetweenS and \ N S formacut. Clearly,ifthatcutisnegative,theShapleyvaluecannotbe \ inthecore,andsincethisholdsforallsetsS,theconverseisalsotrue. Andsowegetasaconsequencethatiftheweightedgraphcontainsnonegative cuts, the core cannotbe empty. The next theorem turns this into a necessaryand sufficientcondition. Theorem12.3.9 The core of a weighted graph game is nonempty if and only if thereisnonegativecutintheweightedgraph. Proof. Theifpartfollowsfromtheprecedingproposition. Fortheonly-ifpart,supposewehaveanegativecutinthegraphbetweenS andN S. Byvirtueofbeingacut,wehave \ w(i,j) i∈S,j∈(N\S) φ (N,v) v(S) = φ (N,v) v(N S) = < 0. i − i − \ 2 P i∈S i∈(N\S) X X Foranypayoffvectorx,wehave v(N) = x = x + x i i i i∈N i∈S i∈(N\S) X X X = φ (N,v) = φ (N,v)+ φ (N,v). i i i i∈N i∈S i∈(N\S) X X X UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 12.3 Compactrepresentationsofcoalitionalgames 401 Combiningthetwo,andsummingup, x v(S) + x v(N S) < 0. i i − − \ ! ! i∈S i∈(N\S) X X Hence, either the first or the second term (possibly both) has to be negative. Thepayoffvecorxisnotinthecore. Sincexisanarbitrarypayoffvector,the coreisempty. These theorems suggest that one test for nonemptiness of the core is to check whethertheShapleysolutionliesinthecore. However,despiteallthesepromising indications,testingmembershipinWGGsremainselusiveingeneral. Theorem12.3.10 Testing the nonemptinessof the core of a generalWGG is NPcomplete. Theproofis basedona reductionfromMAXCUT, awell-knownNP-complete problem. 12.3.3 Capturingsynergies: arepresentation forsuperadditivegames So far, we have looked at compact representations of coalitional games that can express only very restricted classes of games, but that are extremely compactfor those classes. We now switch gears to consider compact representations that are designedwiththeintenttorepresentmorediversefamiliesofcoalitionalgames. Thefirstonewewillexaminecanbeusedtorepresentanysuperadditivegame. Asmentionedearlierinthechapter,superadditivityissometimesassumedforcoalitionalgamesandisjustifiedwhencoalitionsdonotexertnegativeexternalitieson eachother. synergy Definition12.3.11(Synergyrepresentation) Thesynergyrepresentationofsuperrepresentation additive games is given by the pair (N,s), where N is the set of agents and s is a set function that maps each coalition to a value interpreted as the synergy the coalitiongenerateswhentheagentsofthecoalitionworktogether. Onlycoalitions withstrictlypositivesynergieswillbeincludedinthespecificationofthegame. Theunderlyingcoalitionalgame(N,v)underrepresentation(N,s)isgivenby k v(S) = max v(S ) +s(S), i {S1,S2,...,Sk}∈π(S) ! i=1 X