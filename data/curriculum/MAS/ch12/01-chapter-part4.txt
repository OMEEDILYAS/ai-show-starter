1)! differentwaysthe | |−| |− remainingagents couldbe addedafterward. Finally, sum overall possiblesets S andobtainanaveragebydividingby N !,thenumberofpossibleorderingsofall | | theagents. ForaconcreteexampleoftheShapleyvalueinaction,considerthevotinggame given in Example 12.1.2. Recall that the four political parties A, B, C, and D have 45, 25, 15, and 15 representatives, respectively, and a simple majority (51 votes) is required to pass the $100 million spending bill. If we want to analyze howmuchmoneyitisfairforeachpartytodemand,wecancalculatetheShapley valuesofthegame. Notethateverycoalitionwith51ormoremembershasavalue of$100million,4andothershave$0. Inthisgame,therefore,thepartiesB,C,and D areinterchangeable,sincetheyaddthesamevaluetoanycoalition. (Theyadd $100milliontothecoalitions B,C , C,D , B,D thatdonotincludethem { } { } { } alreadyandto A ;theyadd$0toallothercoalitions.) TheShapleyvalueofAis { } givenby: 1 φ = [3!0!(100 100)+3 2!1!(100 0)+3 1!2!(100 0) A 4! − · − · − +0!3!(0 0)] − 1 = [0+600+600+0] = $50million. 24 TheShapleyvalueforB (and,bysymmetry,alsoforC andD)isgivenby: 1 φ = [3!0!(100 100)+2 2!1!(100 100)+2!1!(100 0) B 4! − · − − +1!2!(100 0)+2 1!2!(0 0)+0!3!(0 0)] − · − − 1 = [0+0+200+200+0+0]= $16.67million. 24 ThustheShapleyvaluesare(50,16.67,16.67,16.67), whichadduptotheentire$100million. Tocontinuewith anexamplementionedearlier,inSection10.6.3wediscussed the Shapley mechanismfor sharing the cost of multicasttransmissions. Now that we have learned about the Shapley value—what is the connection? It turns out to dependona probabilisticinterpretationofthe Shapleyvalue. Supposethatthe agents to be served arrive in a random order in the fixed multicast tree, and that eachagentisresponsibleforthecostoftheremainingedgesneededtobebuiltfor him to get connected. The Shapley mechanismcharges the agents their expected 4. Noticethatforthesecalculationswescalethevaluefunctionto100forwinningcoalitionsand0forlosing coalitionsinordertomakeitalignmoretightlywithourexample. UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 12.2 Analyzingcoalitionalgames 391 connection costs in such a model, averaging over all orders chosen uniformly at random. 12.2.2 Thecore The Shapley value defined a fair way of dividing the grand coalition’s payment amongitsmembers. However,thisanalysisignoredquestionsofstability. Wecan also ask: would the agents be willing to form the grand coalition given the way itwilldividepayments,orwouldsomeofthemprefertoformsmallercoalitions? Unfortunately, sometimes smaller coalitions can be more attractive for subsetsof theagents,eveniftheyleadtolowervalueoverall. Consideringthemajorityvoting example,whileAdoesnothaveaunilateralmotivationtovoteforadifferentsplit, AandB haveincentivetodefectanddividethe$100millionbetweenthemselves (e.g.,dividingit(75,25)). This leads to the question of what payment divisions would make the agents want to form the grand coalition. The answer is that they would want to do so if and only if the payment profile is drawn from a set called the core, defined as follows. core Definition12.2.9(Core) A payoff vector x is in the core of a coalitional game (N,v)ifandonlyif S N, x v(S). i ∀ ⊆ ≥ i∈S X Thus, a payoff is in the core if and only if no sub-coalition has an incentive to break away from the grand coalition and share the payoff it is able to obtain independently. Thatis, it requires that the sum ofpayoffs to anygroup ofagents S N mustbeatleastaslargeastheamountthattheseagentscouldshareamong ⊆ themselvesif they formed a coalition on their own. Notice that Definition 12.2.9 implies that payoff vectors in the core must always be imputations: that is, they mustalwaysbestrictlybudgetbalancedandindividuallyrational. Sincethecoreprovidesaconceptofstabilityforcoalitionalgameswecanseeit as an analog ofthe Nash equilibrium from noncooperativegames. However,it is actuallyastrongernotion:Nashequilibriumdescribesstabilityonlywithrespectto deviationbyasingleagent. Instead,thecoreisananalogoftheconceptofstrong equilibrium(discussedin Section10.7.3), whichrequiresstability with respectto deviationsbyarbitrarycoalitionsofagents. Howcanthecorebecomputed?Theanswerisconceptuallystraightforwardand isgivenbythelinearfeasibilityproblem5thatfollows. x v(S) S N (12.1) i ≥ ∀ ⊆ i∈S X 5. Linearfeasibilityproblemsarelinearprogramswithonlyconstraintsbutnoobjectivefunction. Linear programsaredefinedinAppendixB. Freeforon-screenuse;pleasedonotdistribute.Youcangetanotherfreecopy ofthisPDFororderthebookathttp://www.masfoundations.org. 392 12 TeamsofSelfishAgents:AnIntroductiontoCoalitionalGameTheory Asanotionofstabilityforcoalitionalgames,thecoreisappealing.However,the alertreadermighthavetwo lingeringdoubts, arising dueto its implicit definition throughinequalities: 1. Isthecorealwaysnonempty? 2. Isthecorealwaysunique? Unfortunately, the answer to both questions is no. Let us consider again the Parliament example with the four political parties.