the CDA and the call marketagents bid at their own paceand as many times as they want. Each bid consists of a price and quantity, where the quantity periodicdouble iseitherpositive(signifyinga“buy”order)ornegative(signifyinga“sell”order). auction Therearenoconstraintsonwhatthepriceorquantitymightbe. Alsoinbothcases, callmarket the bids receivedare put in a centralrepository, the order book. Where the CDA andcallmarketdivergeisonthequestionofwhenatradeoccurs. IntheCDA,as orderbook soonas the bid is received,an attempt is madeto match it with oneor more bids ontheorderbook;forexample,anewsellorderfor10unitsmaybematchedwith one existing buy bid for 4 units and another buy bid for 6 units, so long as both the buy-bid prices are higher than the sell price. In cases of partial matches, the Freeforon-screenuse;pleasedonotdistribute.Youcangetanotherfreecopy ofthisPDFororderthebookathttp://www.masfoundations.org. 378 11 ProtocolsforMultiagentResourceAllocation:Auctions remainingunits(eitherofthenewbidorofoneoforder-bookbids)isputbackon theorderbook. Forexample,ifthenewsellorderisfor13unitsandtheonlybuy bidsontheorderbookwithahigherpricearetheonesdescribed(onebuybidfor 4unitsandanotherbuybidfor6units), two tradesarearranged—onefor4 units, andonefor6—andtheremaining3unitsofthenewbidareputontheorderbook asasellorder. (Wehavenotmentionedthepriceofthetradesarranged;obviously, they must lie in the interval between the price in the buy bid and the price in the sell bid—the so called bid-ask spread—but are unconstrained otherwise. Indeed, the amount paid to the seller could be less than the amountcharged to the buyer, allowingacommissionfortheexchangeorbroker.) Incontrast,whenabidarrivesinthecallmarket,itissimplyplacedintheorder book. No trade is attempted. Then, at some predetermined time, an attempt is madetoarrangethemaximalamountoftradepossible(calledclearingthemarket). In this case this is done simply by ranking the sell bids in ascending order, the buybidsindescendingorder,andfindingthepointatwhichsupplymeetsdemand. Figure11.5depictsatypicalcallmarket. Inthisexample14unitsaretradedwhen themarketclears, aftertheremainingbids areleftontheorderbookawaitingthe nextmarketclear. Sell: 5@$1 3@$2 6@$4 2@$6 4@$9 before Buy: 6@$9 4@$5 6@$4 3@$3 5@$2 2@$1 ⇓ Sell: 2@$6 4@$9 after Buy: 2@$4 3@$3 5@$2 2@$1 Figure11.5:Acall-marketorderbook,beforeandaftermarketclears. 11.4.2 Predictionmarkets prediction Apredictionmarket,alsocalledaninformationmarket,is adouble-sidedauction market thatisusedtoaggregateagents’beliefsratherthanallocatinggoods. Forexample, suchamarketcouldbeusedtoassessdifferentcandidates’chancesinanupcoming information presidentialelection.Tosetupapredictionmarket,themarketdesignerestablishes market contracts (c ,...,c ), where each contract c is a commitment to pay the bearer 1 k i $1 if candidate i wins the election, and $0 otherwise. However, the market designer does not actually sell such contracts himself. Instead, he simply opens up his market, and allows interested agents to both buy and sell contracts with each other. The reason that such a market is interesting is that a risk-neutral bidder shouldvalueacontractc atexactlytheprobabilitythatiwillwintheelection. Ifa i bidderbelievesthathehasinformationabouttheelectionthatotherbiddersdonot have,andconsequentlybelievesthattheprobabilityofiwinningisgreaterthanthe currentaskingpriceforcontractc theniwillwanttobuycontracts. Conversely,if i abidderbelievesthetrueprobabilityofiwinningislessthanthecurrentprice,he UncorrectedmanuscriptofMultiagentSystems,publishedbyCambridgeUniversityPress Revision1.1©Shoham&Leyton-Brown,2009,2010. 11.4 Exchanges 379 willwanttosellcontracts. Inequilibrium,pricesreflectbidders’aggregatebeliefs. This is similar to the idea that price of a company’s stock in a stock market will reflectthemarket’sbeliefaboutthecompany’sfutureprofitability. Indeed,aneven tightercollectionistofuturesmarkets,inwhichtraderscanpurchasedeliveryofa commodity(e.g.,oil)atafuturedate;pricesinthesemarketsarecommonlytreated asforecastsaboutfuturecommodityprices. Thekeydistinctionisthataprediction market is designed primarily to elicit such information, rather than doing so as a side effect of solving an allocation problem. On the other hand, futures markets areusedprimarilyforhedgingrisk(e.g.,anairlinecompanymightbuyoilfutures in orderto defenditself againstthe risk that oilprices will rise, causingit to lose moneyonticketsithasalreadysold). Prediction markets have been used in practice for a wide variety of belief aggregation tasks, including political polling, forecasting the outcomes of sporting events, and predicting the box office returns of new movies. Of course, there are other methods that can be used for all of these tasks. In particular, opinion polls andsurveysofexpertsarecommonapproaches.However,thereismountingempiricalevidencethatpredictionmarketscanoutperformbothofthesemethods. This is interesting becausepredictionmarketsdo notneedto workwith unbiasedsamplesofthepopulation: biddersarenotaskedwhatthey think,butwhattheythink the whole populationthinks, and they are givenan economicincentive to answer correctly. Similarly, predictionmarketsdonotneedtoexplicitlyidentifyorscore experts: participants are self-selecting, and weight their input themselves by the size of the position they take in the market. Finally, prediction markets are able toupdatetheirforecastsinrealtime,forexample,immediatelyupdatingpricesto reflecttheconsequencesofapoliticalscandalonanelection. Avarietyofdifferentmechanismscanbeusedtoimplementpredictionmarkets. Onestraightforwardapproachistousecontinuousdoubleauctionsorcallmarkets, as described in the previous section. These mechanisms have